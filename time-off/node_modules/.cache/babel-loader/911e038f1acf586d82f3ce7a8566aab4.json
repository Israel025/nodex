{"ast":null,"code":"import _defineProperty from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/israel/Documents/Projects/time-off/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/israel/Documents/Projects/time-off/src/components/pages/AbsenceRequest.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Png from '../../assets/images/logos/logo.png';\nimport '../../assets/styles/AbsenceRequest.css';\nimport Footer from '../common/Footer';\nimport Side from '../../assets/images/side2.jpg';\nimport Swal from 'sweetalert';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport FormValidator from '../common/FormValidator';\n\nfunction captureActiveDates() {\n  this.setState({\n    beforeActive: this.state.dateStart\n  });\n  this.setState({\n    afterActive: \"\"\n  });\n}\n\nvar AbsenceRequest =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AbsenceRequest, _React$Component);\n\n  function AbsenceRequest(props) {\n    var _this;\n\n    _classCallCheck(this, AbsenceRequest);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AbsenceRequest).call(this, props));\n\n    _this.handleDateEnd = function (event) {\n      _this.setState({\n        dateEnd: event.valueOf()\n      });\n    };\n\n    _this.captureDuration = function (duration) {\n      _this.setState({\n        duration: duration\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleLogout = function (e) {\n      e.preventDefault();\n      Swal({\n        title: \"Logged-out Successfully\",\n        icon: \"success\",\n        button: \"Okay\",\n        timer: 2000\n      });\n\n      _this.props.history.push('/login');\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      var validation = _this.validator.validate(_this.state);\n\n      _this.setState({\n        validation: validation\n      });\n\n      _this.submitted = true;\n\n      if (validation.isValid && _this.state.duration !== \"\") {\n        // handle actual form submission here\n        Swal({\n          title: \"Request Sent\",\n          icon: \"success\",\n          timer: 900\n        });\n        setTimeout(function () {\n          window.location.reload();\n        }, 1000); //this.props.history.push('/absence-request');\n      } else {\n        Swal({\n          title: \"Select Date \",\n          icon: \"success\",\n          timer: 900\n        });\n      }\n    };\n\n    _this.validator = new FormValidator([{\n      field: 'abReqLeave',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Select Leave type.'\n    }, {\n      field: 'abReqText',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Reason for Leave is required.'\n    }, {\n      field: 'abReqText',\n      method: 'matches',\n      args: [/([a-zA-Z\\d]{1}[a-zA-Z\\d]*[\\s]{0,1}[a-zA-Z\\d])+([\\s]{0,1}[a-zA-Z\\d]+)/],\n      validWhen: true,\n      message: 'Invalid entry.'\n    }]);\n    _this.state = {\n      abReqLeave: \"\",\n      abReqText: \"\",\n      validation: _this.validator.valid(),\n      dateStart: new Date(),\n      dateEnd: \"\",\n      beforeActive: new Date(),\n      afterActive: new Date()\n    };\n    _this.submitted = false; // this.captureActiveDates = this.captureActiveDates.bind(this);\n\n    _this.handleDateStart = _this.handleDateStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AbsenceRequest, [{\n    key: \"captureActiveDates\",\n    value: function captureActiveDates() {\n      this.setState({\n        beforeActive: this.state.dateStart\n      });\n      this.setState({\n        afterActive: \"\"\n      });\n    }\n  }, {\n    key: \"handleDateStart\",\n    value: function handleDateStart(event, captureActiveDates) {\n      this.setState({\n        dateStart: event.valueOf()\n      });\n\n      (function captureActiveDates() {\n        this.setState({\n          beforeActive: this.state.dateStart\n        });\n        this.setState({\n          afterActive: \"\"\n        });\n      })(); // captureActiveDates();\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var today = new Date();\n      var begin = this.state.dateStart;\n      var end = this.state.dateEnd;\n      var total = Math.round((end - begin) * (1.1574 * 0.00000001));\n      var duration = total <= 0 ? \"\" : \"\".concat(total, \" day(s)\"); //this.captureDuration(duration);\n\n      var validateRequest = this.submitted ? this.validator.validate(this.state) : this.state.validation;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"abReq-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"abReq-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"abReq-top-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"abReq-left-png\",\n        src: Png,\n        alt: \"Brand-Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"abReq-top-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"abReq-admin-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"nav nav-pills\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        class: \"nav-item abReq-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/employee-dash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        class: \"nav-link btn-sm abReq-link-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Employee Calendar\"))), React.createElement(\"li\", {\n        class: \"nav-item abReq-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/team-view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        class: \"nav-link btn-sm abReq-link-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Team View\"))), React.createElement(\"li\", {\n        class: \"nav-item abReq-links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/absence-request\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        class: \"nav-link active btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"New Absence\"))))), React.createElement(\"div\", {\n        class: \"abReq-logout-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger abReq-logout-btn\",\n        onClick: this.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Log out\"))))))), React.createElement(\"div\", {\n        className: \" row abReq-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"index\",\n        alt: \"sideBar\",\n        src: Side,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-8 abReq-form-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"abReq-formPos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"needs-validation abReq-form\",\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-12 \".concat(validateRequest.abReqLeave.isInValid && 'has-error'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"custom-select\",\n        name: \"abReqLeave\",\n        onChange: this.handleInputChange,\n        id: \"abReqLeave\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"--Type of Leave--\"), React.createElement(\"option\", {\n        value: \"maternity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Maternity\"), React.createElement(\"option\", {\n        value: \"health\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Health\"), React.createElement(\"option\", {\n        value: \"travel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Travel\"), React.createElement(\"option\", {\n        value: \"education\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Education\"), React.createElement(\"option\", {\n        value: \"liesure\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Liesure\")), React.createElement(\"span\", {\n        className: \"help-block abReqError\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, validateRequest.abReqLeave.message))), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-4 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"abReqFrom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"From\"), React.createElement(DayPickerInput, {\n        dayPickerProps: {\n          disabledDays: {\n            before: today\n          }\n        },\n        className: \"form-control\",\n        name: \"abReqFrom\",\n        value: new Date().toLocaleDateString(),\n        onDayChange: this.handleDateStart,\n        id: \"abReqFrom\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-4 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"abReq-from\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"To\"), React.createElement(DayPickerInput, {\n        dayPickerProps: {\n          disabledDays: {\n            before: this.state.beforeActive,\n            after: this.state.afterActive\n          }\n        },\n        className: \"form-control\",\n        name: \"abReq-to\",\n        onDayChange: this.handleDateEnd,\n        id: \"abReq-to\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-4 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"abReq-dur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Duration\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"None\",\n        value: duration,\n        id: \"abReq-dur\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-12 \".concat(validateRequest.abReqText.isInValid && 'has-error'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        class: \"form-control\",\n        id: \"abReqText\",\n        name: \"abReqText\",\n        placeholder: \"Reason for Leave\",\n        onChange: this.handleInputChange,\n        rows: \"6\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"help-block abReqError\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, validateRequest.abReqText.message))), React.createElement(\"div\", {\n        className: \"form-row abReq-submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.handleFormSubmit,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Submit Request\")))))), React.createElement(\"div\", {\n        className: \"abReq-foot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AbsenceRequest;\n}(React.Component);\n\nexport default AbsenceRequest;","map":{"version":3,"sources":["/home/israel/Documents/Projects/time-off/src/components/pages/AbsenceRequest.js"],"names":["React","Link","Png","Footer","Side","Swal","DayPickerInput","FormValidator","captureActiveDates","setState","beforeActive","state","dateStart","afterActive","AbsenceRequest","props","handleDateEnd","event","dateEnd","valueOf","captureDuration","duration","handleInputChange","preventDefault","target","name","value","handleLogout","e","title","icon","button","timer","history","push","handleFormSubmit","validation","validator","validate","submitted","isValid","setTimeout","window","location","reload","field","method","validWhen","message","args","abReqLeave","abReqText","valid","Date","handleDateStart","bind","today","begin","end","total","Math","round","validateRequest","isInValid","disabledDays","before","toLocaleDateString","after","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Png from '../../assets/images/logos/logo.png';\nimport '../../assets/styles/AbsenceRequest.css';\nimport Footer from '../common/Footer';\nimport Side from '../../assets/images/side2.jpg';\nimport Swal from 'sweetalert';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport FormValidator from '../common/FormValidator';\n\n\nfunction captureActiveDates (){\n    this.setState({beforeActive: this.state.dateStart});\n    this.setState({afterActive: \"\"});\n}\n\nclass AbsenceRequest extends React.Component{\n\n    constructor(props) {\n        super(props);\n\n        this.validator = new FormValidator([\n            { \n                field: 'abReqLeave', \n                method: 'isEmpty', \n                validWhen: false, \n                message: 'Select Leave type.' \n            },\n            { \n                field: 'abReqText',\n                method: 'isEmpty', \n                validWhen: false, \n                message: 'Reason for Leave is required.'\n            },\n            { \n                field: 'abReqText', \n                method: 'matches', \n                args: [/([a-zA-Z\\d]{1}[a-zA-Z\\d]*[\\s]{0,1}[a-zA-Z\\d])+([\\s]{0,1}[a-zA-Z\\d]+)/],\n                validWhen: true, \n                message: 'Invalid entry.' \n            },\n        ]);\n    \n        this.state = {\n            abReqLeave:\"\",\n            abReqText: \"\",\n            validation: this.validator.valid(),\n            dateStart: new Date(),\n            dateEnd: \"\",\n            beforeActive: new Date(),\n            afterActive: new Date(),\n        };\n\n        this.submitted = false;\n       // this.captureActiveDates = this.captureActiveDates.bind(this);\n        this.handleDateStart = this.handleDateStart.bind(this);\n\n      }\n    \n    captureActiveDates(){\n        this.setState({beforeActive: this.state.dateStart});\n        this.setState({afterActive: \"\"});\n    }\n\n    handleDateStart(event, captureActiveDates){ \n        this.setState({dateStart: event.valueOf()});\n\n        (function captureActiveDates (){\n            this.setState({beforeActive: this.state.dateStart});\n            this.setState({afterActive: \"\"});\n        })();\n        // captureActiveDates();\n    }\n    \n    handleDateEnd = (event) => {\n        this.setState({dateEnd: event.valueOf()});\n    }\n\n    captureDuration = (duration) => {\n        this.setState({duration: duration})\n    }\n\n    handleInputChange = event => {\n        event.preventDefault();\n\n        this.setState({[event.target.name]: event.target.value,});  \n    }\n\n    handleLogout  = (e) => {\n        e.preventDefault();\n        Swal({\n            title: \"Logged-out Successfully\",\n            icon: \"success\",\n            button: \"Okay\",\n            timer: 2000,\n        });\n        this.props.history.push('/login');\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n\n        const validation = this.validator.validate(this.state);\n        this.setState({ validation });\n        this.submitted = true;\n\n        if (validation.isValid && this.state.duration !== \"\") {\n        // handle actual form submission here\n            Swal({\n                title: \"Request Sent\",\n                icon: \"success\",\n                timer: 900,\n            });\n\n            setTimeout(()=>{ window.location.reload() }, 1000);            \n            //this.props.history.push('/absence-request');\n        }\n        else{\n            Swal({\n                title: \"Select Date \",\n                icon: \"success\",\n                timer: 900,\n            });\n        }\n    }\n\n    render(){\n        const today = new Date();\n\n        let begin = this.state.dateStart;\n        \n        let end = this.state.dateEnd;\n        let total = (Math.round((end - begin) * (1.1574 * 0.00000001)));\n\n        let duration = total <= 0 ? \"\" : `${total} day(s)`\n\n        //this.captureDuration(duration);\n\n        let validateRequest = this.submitted ? this.validator.validate(this.state) : this.state.validation;\n        \n        return(\n\n            <div>\n                <div className=\"abReq-top\">\n                    <header className=\"abReq-header\">\n                        <nav className=\"navbar\">\n                            <div className=\"abReq-top-left\">\n                                <Link to=\"/\"> \n                                    <img className=\"abReq-left-png\" src={Png} alt=\"Brand-Logo\"/>\n                                </Link>\n                            </div> \n                            <div className=\"abReq-top-right\"> \n                                <div className=\"abReq-admin-links\">\n                                    <ul class=\"nav nav-pills\">\n                                        <li class=\"nav-item abReq-links\">\n                                            <Link to=\"/employee-dash\">\n                                                <p class=\"nav-link btn-sm abReq-link-color\">Employee Calendar</p>\n                                            </Link>\n                                        </li>\n                                        <li class=\"nav-item abReq-links\">\n                                            <Link to=\"/team-view\">\n                                                <p class=\"nav-link btn-sm abReq-link-color\">Team View</p>\n                                            </Link>\n                                        </li>\n                                        <li class=\"nav-item abReq-links\">\n                                            <Link to=\"/absence-request\">\n                                                <p class=\"nav-link active btn-sm\">New Absence</p>\n                                            </Link>\n                                        </li>\n                                    </ul>\n                                </div>                                \n                                <div class=\"abReq-logout-div\">\n                                    <Link to=\"/\">\n                                        <button className=\"btn btn-danger abReq-logout-btn\"\n                                            onClick={this.handleLogout}>Log out</button>\n                                    </Link>\n                                </div>\n                            </div>                   \n                        </nav>                \n                    </header>\n                </div>\n                \n                <div className=\" row abReq-body\">\n                    <div className=\"col-md-4\">\n                        <img className=\"index\" alt=\"sideBar\" src={Side}/>\n                    </div>\n\n                    <div className=\"col-md-8 abReq-form-div\">\n\n                        <div className=\"abReq-formPos\">\n                            <form className=\"needs-validation abReq-form\" noValidate>\n\n                                <div className=\"form-row\">\n\n                                    <div className={`form-group col-md-12 ${validateRequest.abReqLeave.isInValid && 'has-error'}`}>\n                                        <select className=\"custom-select\" \n                                            name=\"abReqLeave\"\n                                            onChange={this.handleInputChange} \n                                            id=\"abReqLeave\" required>\n                                            <option value=\"\">--Type of Leave--</option>\n                                            <option value=\"maternity\">Maternity</option>\n                                            <option value=\"health\">Health</option>\n                                            <option value=\"travel\">Travel</option>\n                                            <option value=\"education\">Education</option>\n                                            <option value=\"liesure\">Liesure</option>\n                                        </select>\n                                        <span className=\"help-block abReqError\">{validateRequest.abReqLeave.message}</span>\n                                    </div>\n\n                                </div>\n\n                                <div className=\"form-row\">\n\n                                    <div class=\"form-group col-md-4 mb-3\">\n                                        <label htmlFor=\"abReqFrom\">From</label>\n                                        <DayPickerInput\n                                              dayPickerProps={{\n                                                disabledDays: { before: today },\n                                              }}\n                                            className=\"form-control\"\n                                            name=\"abReqFrom\" \n                                            value={new Date().toLocaleDateString()}\n                                            onDayChange={this.handleDateStart}\n                                            id=\"abReqFrom\" required\n                                        />\n                                    </div>\n\n                                    <div class=\"form-group col-md-4 mb-3\">\n                                        <label htmlFor=\"abReq-from\">To</label>\n                                        <DayPickerInput\n                                            dayPickerProps={{\n                                                disabledDays: { before: this.state.beforeActive,\n                                                after: this.state.afterActive },\n                                            }}\n                                            className=\"form-control\"\n                                            name=\"abReq-to\" \n                                            onDayChange={this.handleDateEnd}\n                                            id=\"abReq-to\" required\n                                        />\n                                    </div> \n\n                                    <div class=\"form-group col-md-4 mb-3\">\n                                        <label htmlFor=\"abReq-dur\">Duration</label>\n                                        <input type=\"text\" \n                                            class=\"form-control\"\n                                            placeholder=\"None\"\n                                            value={duration}\n                                            id=\"abReq-dur\" disabled/>\n                                    </div>\n                                </div>\n                                <div className=\"form-row\">\n                                    <div className={`form-group col-md-12 ${validateRequest.abReqText.isInValid && 'has-error'}`}>\n                                        <textarea class=\"form-control\"\n                                            id=\"abReqText\"\n                                            name=\"abReqText\" \n                                            placeholder=\"Reason for Leave\"\n                                            onChange={this.handleInputChange}\n                                            rows=\"6\" required\n                                        />\n                                        {/* </textarea> */}\n                                        <span className=\"help-block abReqError\">{validateRequest.abReqText.message}</span>\n                                    </div>                                \n                                </div>\n\n                                <div className=\"form-row abReq-submit\">\n                                    <button type=\"submit\"\n                                        onClick={this.handleFormSubmit} \n                                    className=\"btn btn-primary\">Submit Request</button>        \n                                </div>\n                                \n                            </form>\n\n                        </div>\n                        \n\n                    </div>\n                </div>\n                <div className=\"abReq-foot\">\n                    <Footer/>\n                </div>\n\n            </div>\n        );\n    }\n}\nexport default AbsenceRequest;"]},"metadata":{},"sourceType":"module"}